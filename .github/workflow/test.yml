name: Test
on: [push, pull_request]

jobs:
  test:
    runs-on: macOS
    steps:
    - uses: actions/checkout@v2
    - name: Install docker
      run: |
        brew install docker-machine docker
        sudo docker --version
    - name: Run
      run: |
        docker run -d \
        -p 2234:2234 \
        -e SSL_CERT_PATH=None \
        -e HTTP_RPC_PORT=2234 \
        -e DATA_DIR=/schain_data/data_dir \
        skalenetwork/schain:1.42-develop.11